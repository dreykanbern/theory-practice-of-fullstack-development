## HTTP (Hypertext Transfer Protocol) {#HTTP}
Это протокол [прикладного уровня](/Base/OSI.md#OSI-model) для распределенных, совместных, гипертекстовых информационных систем.
Он используется для передачи данных между клиентом и сервером в Интернете.

## HTTP-протокол имеет несколько версий.
Стандарты HTTP разрабатываются Консорциумом Всемирной паутины (W3C)

### Существует 5 версий HTTP: {#HTTP-Versions}
- HTTP/0.9, был первой версией протокола и был очень простым. Он поддерживал только один метод запроса - GET, и не имел заголовков HTTP. Это означало, что можно было передавать только файлы HTML
- HTTP/1.0, стал более мощным, чем версия 0.9, благодаря введению заголовков HTTP и новых методов HTTP. Заголовки HTTP позволили клиентам отправлять и получать различные типы файлов и обмениваться соответствующими метаданными
- HTTP/1.1, внес ряд улучшений, таких как поддержка постоянных соединений, кэширование и кодирование содержимого. Он также ввел дополнительные методы запроса, такие как OPTIONS, PUT и DELETE
- HTTP/2.0, использует двоичный формат для инкапсуляции всех сообщений, в то время как HTTP/1.1 использует текстовый формат. Это позволяет ускорить обмен данными между клиентом и сервером. Кроме того, HTTP/2 поддерживает мультиплексирование, сжатие заголовков и приоритеты запросов
- HTTP/3.0, использует QUIC вместо TCP в качестве транспортного протокола. Это позволяет ускорить установление соединения и улучшить его надежность.

Сегодня наиболее распространенной версией является HTTP/1.1, а в будущем будет использоваться HTTP/2.01.
В 2022 году была опубликована версия HTTP/3, которая использует QUIC вместо TCP в качестве транспортного протокола.
На данный момент она используется более чем 25% сайтами и поддерживается многими веб-браузерами (более 75% пользователей).


HTTP определяет набор методов запроса, которые указывают на желаемое действие, которое должно быть выполнено для данного ресурса.
Эти методы запроса иногда называются глаголами HTTP.
Каждый из них реализует разную семантику, но некоторые общие особенности разделяются группой из них:
например, метод запроса может быть безопасным, идемпотентным или кэшируемым.

## Некоторые из наиболее распространенных методов HTTP включают: {#HTTP-Methods}

1) GET: запрашивает представление указанного ресурса. Запросы с использованием GET должны только извлекать данные.
2) POST: отправляет сущность на указанный ресурс, часто вызывая изменение состояния или побочные эффекты на сервере.
3) PUT: заменяет все текущие представления целевого ресурса с помощью полезной нагрузки запроса2.
4) DELETE: удаляет указанный ресурс.
5) HEAD: Запрашивает ответ, идентичный запросу GET, но без тела ответа.
6) OPTIONS: Описывает параметры связи для целевого ресурса. 
7) PATCH: Применяет частичные изменения к ресурсу. 
8) CONNECT: Устанавливает туннель к серверу, определенному целевым ресурсом. 
9) TRACE: Выполняет тест обратной связи сообщений вдоль пути к целевому ресурсу.

Ограничения HTTP могут включать ограничения на размер передаваемых данных, ограничения безопасности и ограничения на использование определенных методов.

## HTTP-ответы имеют коды состояния {#HTTP-Codes}
которые указывают, был ли успешно выполнен конкретный HTTP-запрос.

### Ответы группируются в пять классов:

- Информационные ответы (100 – 199)
- Успешные ответы (200 – 299)
- Сообщения о перенаправлении (300 – 399)
- Ответы об ошибках клиента (400 – 499)
- Ответы об ошибках сервера (500 – 599)

### Некоторые из наиболее распространенных кодов состояния HTTP включают:

- 200 OK: Запрос успешно выполнен.
- 201 Created: Запрос успешно выполнен, и в результате был создан новый ресурс.
- 204 No Content: Нет содержимого для отправки этого запроса, но заголовки могут быть полезными.
- 400 Bad Request: Сервер не может понять запрос из-за неверного синтаксиса.
- 401 Unauthorized: Аутентификация необходима и не была предоставлена или была предоставлена неверно.
- 403 Forbidden: Клиент не имеет прав доступа к содержимому, поэтому сервер отказывает в выполнении запроса.
- 404 Not Found: Сервер не может найти запрашиваемый ресурс.
- 500 Internal Server Error: Сервер столкнулся с ситуацией, которую он не знает как обработать.

## HTTP-заголовки позволяют клиенту и серверу передавать дополнительную информацию с HTTP-запросом или ответом. {#HTTP-Headers}
HTTP-заголовок состоит из его регистронезависимого имени, за которым следует двоеточие (:), затем его значение.
Пробелы перед значением игнорируются.

### Некоторые из наиболее распространенных HTTP-заголовков включают:

- Accept: Определяет типы контента, которые клиент может принять. 
- Accept-Encoding: Определяет типы кодирования содержимого, которые клиент может принять. 
- Authorization: Содержит учетные данные для аутентификации пользователя с сервером. 
- Cache-Control: Определяет директивы для кэширования механизмов в запросах и ответах. 
- Content-Length: Размер тела запроса в байтах. 
- Content-Type: Определяет MIME-тип тела запроса. 
- Cookie: Содержит HTTP-куки, ранее отправленные сервером с помощью заголовка Set-Cookie. 
- Host: Указывает доменное имя и порт целевого ресурса. 
- User-Agent: Содержит информацию о клиентском агенте, инициирующем запрос.

## Клиент взаимодействует с сервером, отправляя HTTP-запросы и получая HTTP-ответы.
Клиент (например, веб-браузер) отправляет запрос на сервер, указывая желаемое действие (например, получение веб-страницы или отправка данных формы).
Сервер обрабатывает запрос, выполняет необходимые действия и отправляет ответ обратно клиенту.
Ответ может содержать данные (например, HTML-страницу или JSON-объект), которые клиент может использовать для отображения информации или обновления своего состояния.

Клиент и сервер обмениваются сообщениями в формате запрос-ответ.
Клиент отправляет запрос, а сервер возвращает ответ.
Этот обмен сообщениями является примером межпроцессного взаимодействия.
Чтобы общаться, компьютеры должны иметь общий язык и следовать правилам, чтобы и клиент, и сервер знали, чего ожидать.
Язык и правила общения определяются в протоколе связи.

Клиенты и серверы обычно используют протокол HTTP (HyperText Transfer Protocol) для обмена данными.

## Ограничения HTTP {#HTTP-limits}

Ограничения HTTP могут быть различными. Например, ограничение скорости обработчика HTTP в .NET, ограничение буфера http 500 или ответа.

Еще одно ограничение - это HTTPS (HyperText Transfer Protocol Secure), расширение протокола HTTP для поддержки шифрования в целях повышения безопасности.

### Ошибка "превышено ограничение буфера HTTP 500 или ответного буфера"
Возникает при использовании метода для отправки файла. Эта ошибка может быть вызвана несколькими причинами,
например, если размер файла превышает максимально допустимый размер
Если вы используете IIS (Internet Information Services), то эта ошибка может быть вызвана тем, что установлено ограничение на размер ответного буфера
HTTP не определяет никаких ограничений на размер заголовков.
Однако большинство веб-серверов ограничивают размер принимаемых ими заголовков.
Например, в Apache ограничение по умолчанию составляет 8 КБ, в IIS - 16 КБ.

Если размер заголовков превысит этот предел, сервер вернет ошибку 413 Entity Too Large.